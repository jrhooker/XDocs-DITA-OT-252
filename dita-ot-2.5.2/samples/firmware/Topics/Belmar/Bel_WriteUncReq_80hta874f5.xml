<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/SysSchema/dita/dtd/technicalContent/dtd/topic.dtd">
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" base="Princeton" id="WriteUncReq_80hta874f5" xml:lang="en-US">
  <title>WriteUncReq</title>

  <body>
    <p>The Write Uncorrectable request marks an LBA as
    invalid. When the specified LBA's are read after this operation, a failure
    is returned with Unrecoverable Read Error status. To clear the invalid LBA
    status, a successful write operation is issued for those logical
    blocks.</p>

    <fig id="Request_Control_Flow_81hta874f5">
      <title>Write Uncorrectable Request Control
      Flow</title>

      <image href="Graphics/bel_lkp_write_uncorrectable.svg" placement="break" width="5.5in"/>
    </fig>

    <table id="_82hta874f5">
      <title>Write Uncorrectable Request Control
      Flow</title>

      <tgroup cols="3">
        <colspec colname="c1" colwidth="5*"/>

        <colspec colname="c2" colwidth="23*"/>

        <colspec colname="c3" colwidth="72*"/>

        <thead>
          <row>
            <entry>No.</entry>

            <entry>Message</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><p> <b otherprops="bold">1</b> </p></entry>

            <entry><p> <b otherprops="bold">CmdReady64</b>
            </p></entry>

            <entry><p>The command is
            received by one of the Data Managers.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">2</b> </p></entry>

            <entry><p> <b otherprops="bold">CmdReady</b>
            </p></entry>

            <entry><p>The Data
            Manager forwards the command to the Admin Command Manager for
            processing.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">3</b> </p></entry>

            <entry><p> <b otherprops="bold">WriteUncReq</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager issues one write uncorrectable request message for
            each Data Frame that is being marked as uncorrectable to the
            Lookup Manager 0. If the host LBA is less than the size of a Data
            Frame, the uncorrectable bit vector will be used to specify which
            host LBAâ€™s within the Data Frame are being marked as
            uncorrectable.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">4</b> </p></entry>

            <entry><p> <b otherprops="bold">dataNetworkMoveInAndLock</b> </p></entry>

            <entry><p>The Lookup
            Manager 0 issues a memory read with lock request to the data
            network to fetch a lookup table entry that contains write
            uncorrectable vector.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">5</b> </p></entry>

            <entry><p> <b otherprops="bold">dataNetworkCpl</b>
            </p></entry>

            <entry><p>Lookup Manager
            receives data network completion for the read and lock
            request.</p></entry>
          </row>

          <row>
            <entry/>

            <entry/>

            <entry><p>If lock is not
            granted, step 4 is repeated until lock is granted.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">6</b> </p></entry>

            <entry><p> <b otherprops="bold">moveOutPosted</b>
            </p></entry>

            <entry><p>The Lookup
            Manager 0 updates lookup table entry, updates write uncorrectable
            vector, and issues a memory write request to the data network to
            update lookup table entry.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">7</b> </p></entry>

            <entry><p> <b otherprops="bold">WriteUncCpl</b>
            </p></entry>

            <entry><p>The Lookup
            Manager 0 responds with a write uncorrectable completion
            message.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">8</b> </p></entry>

            <entry><p> <b otherprops="bold">CplQueueUpdate</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager sends a completion queue update request to the
            Completion Manager.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">9</b> </p></entry>

            <entry><p> <b otherprops="bold">CplQueueUpdateCpl</b>
            </p></entry>

            <entry><p>The Completion
            Manager replies back to the Admin Command Manager when the
            completion has been successfully sent to the host.</p></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </body>
</topic>