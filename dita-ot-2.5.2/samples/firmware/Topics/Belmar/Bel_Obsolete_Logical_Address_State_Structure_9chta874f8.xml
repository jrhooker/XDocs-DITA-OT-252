<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/SysSchema/dita/dtd/technicalContent/dtd/topic.dtd">
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" base="Princeton" id="Obsolete_Logical_Address_State_Structure_9chta874f8" xml:lang="en-US">
  <title>Obsolete Logical Address State
  Structure</title>

  <body>
    <p>Obsolete logical address State Structure is used to
    obsolete a logical address. Memory for this structure is statically
    allocated as <varname>obsolete_logical_address_state_t</varname>.</p>

    <fig id="Dataset_Management_State_Structure_9dhta874f8">
      <title>Dataset Management State Structure</title>

      <codeblock>
typedef struct obsolete_logical_address_state
{
    union
    {
        state_header_t header;
        struct
        {
            u32 olaState : 8;
            u32 replyOpcode : 8;
            u32 opLength : 9;
            u32 l2pEntryIndex : 7;
            ipc_list_t ipcList;
        };
    };
    l2p_entry_t l2pEntries[DATA_NETWORK_MAX_XFER/L2P_LENGTH];
    u32 startLogicalAddr;
    u32 length;
    u16 namespaceID;
    u8 lastOperation;
    u8 partialBitVector;
}obsolete_logical_address_state_t;</codeblock>
    </fig>

    <parml>
      <plentry>
        <pt>olaState</pt>

        <pd>Current state of the obsolete logical address state
        structure.</pd>
      </plentry>

      <plentry>
        <pt>replyQueue</pt>

        <pd>ID of the outbound port to where a completion message should be
        sent.</pd>
      </plentry>

      <plentry>
        <pt>opLength</pt>

        <pd>Current operation length. It depends on data network max transfer
        size and starting address alignment.</pd>
      </plentry>

      <plentry>
        <pt>l2pEntryIndex</pt>

        <pd>.L2P Entry index with respect to the current operation.</pd>
      </plentry>

      <plentry>
        <pt>l2pEntries</pt>

        <pd>.L2P Entries with respect to the current operation</pd>
      </plentry>

      <plentry>
        <pt>startLogicalAddr</pt>

        <pd>Start logical address to be obsoleted.</pd>
      </plentry>

      <plentry>
        <pt>length</pt>

        <pd>Length in terms of host LBAs to be obsoleted.</pd>
      </plentry>

      <plentry>
        <pt>namespaceID</pt>

        <pd>ID of the namespace.</pd>
      </plentry>

      <plentry>
        <pt>lastOperation</pt>

        <pd>Flag to keep track of current operation is last operation.</pd>
      </plentry>

      <plentry>
        <pt>partialBitVector</pt>

        <pd>If current operation is not aligned to 4K, partialBitVector
        contains partial data frame bitmap vector of current operation.</pd>
      </plentry>
    </parml>
  </body>
</topic>