<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/SysSchema/dita/dtd/technicalContent/dtd/topic.dtd">
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" base="Princeton" id="Dataset_Management_42ht97qqbu" xml:lang="en-US">
  <title>Dataset Management</title>

  <body>
    <p>The Dataset Management command is used by the host
    to indicate attributes for ranges of logical blocks. This includes
    attributes like frequency that data is read or written, access size, and
    other information that may be used to optimize performance and
    reliability.</p>

    <fig id="Deallocate_Command_Control_Flow_43ht97qqbu">
      <title>Dataset Management</title>

      <image href="Graphics/Admin Command Manager/DataSet_Managment.svg" placement="break" width="5.5in"/>
    </fig>

    <table id="_44ht97qqbu">
      <title>Dataset Management</title>

      <tgroup cols="3">
        <colspec colname="c1" colwidth=".5in"/>

        <colspec colname="c2" colwidth="1.5in"/>

        <colspec colname="c3" colwidth="4in"/>

        <thead>
          <row>
            <entry>No.</entry>

            <entry>Message</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><p> <b otherprops="bold">1</b> </p></entry>

            <entry><p> <b otherprops="bold">CmdReady64</b>
            </p></entry>

            <entry><p>The command is
            received by one of the Data Managers.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">2</b> </p></entry>

            <entry><p> <b otherprops="bold">CmdReady</b>
            </p></entry>

            <entry><p>The Data
            Manager forwards the command to the Admin Command Manager for
            processing.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">3</b> </p></entry>

            <entry><p> <b otherprops="bold">IngressDMA</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager issues an ingress DMA request to transfer the LBA
            range information from host memory to the allocated Data Frame
            buffer.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">4</b> </p></entry>

            <entry><p> <b otherprops="bold">DMACpl</b>
            </p></entry>

            <entry><p>When the data
            transfer has completed the DMA engine responds with a DMA
            completion message.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">-</b> </p></entry>

            <entry><p> <b otherprops="bold">-</b> </p></entry>

            <entry><p>The Admin
            Manager retrieves Dataset Management data from controller
            memory</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">5</b> </p></entry>

            <entry><p> <b otherprops="bold">WriteLockReq</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager issues a write lock request IPC message to the
            Lock Manager.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">6</b> </p></entry>

            <entry><p> <b otherprops="bold">LockCpl</b>
            </p></entry>

            <entry><p>The Lock
            Manager responds to the <apiname>WriteLockReq</apiname>.
            </p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">7</b> </p></entry>

            <entry><p> <b otherprops="bold">DatasetManagementReq</b> </p></entry>

            <entry><p>The Admin
            Command Manager issues one <apiname otherprops="bold">DatasetManagementReq</apiname> IPC message to
            the Mapping Managers for each range specified in the Dataset
            Management NVM Express command. Ranges specified in host LBAâ€™s are
            rounded down to an integral number of Data Frames.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">8</b> </p></entry>

            <entry><p> <b otherprops="bold">DatasetManagementCpl</b> </p></entry>

            <entry><p>The Mapping
            Managers respond with a <apiname otherprops="bold">DatasetManagementCpl</apiname> complete IPC
            message.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">9</b> </p></entry>

            <entry><p> <b otherprops="bold">LockRelease</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager releases the lock issued to the Lock
            Manager.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">10</b> </p></entry>

            <entry><p> <b otherprops="bold">CplQueueUpdate</b>
            </p></entry>

            <entry><p>The Admin
            Command Manager sends a completion queue update request to the
            Completion Manager.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">11</b> </p></entry>

            <entry><p> <b otherprops="bold">CplQueueUpdateCpl</b>
            </p></entry>

            <entry><p>The Completion
            Manager replies back to the Admin Command Manager when the
            completion has been successfully sent to the host.</p></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </body>
</topic>