<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA 1.2 Topic//EN" "/SysSchema/dita/dtd/technicalContent/dtd/topic.dtd">
<topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" base="Princeton" id="Create_I_O_Completion_Queue_nht97qqbj" xml:lang="en-US">
  <title>Create I/O Completion Queue</title>

  <body>
    <p>The Create I/O Completion Queue command is used to
    create all I/O Completion Queues with the exception of the Admin
    Completion Queue. The Admin Completion Queue is created by specifying its
    base address in the ACQ register and its size in the ACQS field of the AQA
    register and then enabling the controller by setting the CC.EN bit.</p>

    <fig id="Create_I_O_Completion_Queue_Command_Cont_oht97qqbk">
      <title>Create I/O Completion Queue Command
      Control Flow</title>

      <image href="Graphics/Admin Command Manager/Create_IO_Completion_Queue.svg" placement="break" width="5.5in"/>
    </fig>

    <table id="_pht97qqbk">
      <title>Create I/O Completion Queue Command
      Control Flow</title>

      <tgroup cols="3">
        <colspec colname="c1" colwidth="5*"/>

        <colspec colname="c2" colwidth="23*"/>

        <colspec colname="c3" colwidth="72*"/>

        <thead>
          <row>
            <entry>No.</entry>

            <entry>Message</entry>

            <entry>Description</entry>
          </row>
        </thead>

        <tbody>
          <row>
            <entry><p> <b otherprops="bold">1</b> </p></entry>

            <entry><p> <cmdname otherprops="bold">CmdReady64</cmdname>
            </p></entry>

            <entry><p>The command is
            received by one of the Data Managers.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">2</b> </p></entry>

            <entry><p> <cmdname otherprops="bold">CmdReady</cmdname>
            </p></entry>

            <entry><p>The Data
            Manager forwards the command to the Admin Command Manager for
            processing.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">-</b> </p></entry>

            <entry><p> <b otherprops="bold">-</b> </p></entry>

            <entry><p>The Admin
            Command Manager programs the completion queue base, size, and
            interrupt enable CSRâ€™s, enables the completion queue engine, and
            updates its internal state to reflect that the completion queue
            has been created.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">3</b> </p></entry>

            <entry><p> <cmdname otherprops="bold">CplQueueUpdate</cmdname> </p></entry>

            <entry><p>The Admin
            Command Manager sends a completion queue update request to the
            Completion Manager.</p></entry>
          </row>

          <row>
            <entry><p> <b otherprops="bold">4</b> </p></entry>

            <entry><p> <cmdname otherprops="bold">CplQueueUpdateCpl</cmdname> </p></entry>

            <entry><p>The Completion
            Manager replies back to the Admin Command Manager when the
            completion has been successfully sent to the host.</p></entry>
          </row>
        </tbody>
      </tgroup>
    </table>
  </body>
</topic>